@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@using Microsoft.AspNetCore.Identity
@using onlineExamApp.Models
@inject UserManager<ApplicationUser> UserManager

@{
    ViewData["Title"] = "Welcome";
    Layout = "~/Views/Shared/_AccountLayout.cshtml";

    var isAuthenticated = User.Identity?.IsAuthenticated ?? false;
    string userName = "User";

    if (isAuthenticated)
    {
        var user = await UserManager.GetUserAsync(User);
        userName = user?.DisplayName ?? "User";
    }
}

<div class="welcome-container">
    <div class="welcome-box shadow-sm">
        <h1 class="welcome-title">@Localizer["Welcome", userName]</h1>
        <p class="welcome-subtitle">@Localizer["WelcomeSubtitle"]</p>

        @if (!isAuthenticated)
        {
            <p class="lead text-muted mt-4">
                @Localizer["WelcomeGuest"]
            </p>
        }
        else
        {
            <p class="text-success mt-4 fw-semibold">
                @Localizer["WelcomeUser"]
            </p>
        }
    </div>
</div>

